`setup 함수`는 `useEffect`의 첫 번째 인자로 전달되는 함수입니다. 이 함수는 사이드 이펙트를 처리하는 로직을 담고 있으며, 컴포넌트가 마운트되거나 업데이트될 때 실행됩니다. 이 함수를 통해 API 호출, 이벤트 리스너 등록, 타이머 설정 등의 작업을 수행할 수 있습니다.

```jsx
useEffect(
    () => {
        // 이 부분이 setup 함수
        console.log("Effect ran");

        // 선택적 클린업 함수 반환
        return () => {
            console.log("Cleanup");
        };
    },
    [
        /* 의존성 배열 */
    ]
);
```

-   **처음 렌더링 (Mounting)**:
    -   컴포넌트가 처음 렌더링될 때, `useEffect`는 렌더링이 완료된 후에 실행됩니다. 이 시점에서 DOM이 완전히 그려지고, `useEffect` 내부의 코드는 그려진 DOM과 상호작용할 수 있습니다.
    -   컴포넌트가 처음 렌더링될 때 useEffect 의 setup 함수가 실행됩니다.
    ```jsx
    jsx코드 복사
    useEffect(() => {
      console.log('Component mounted');
    }, []); // 빈 배열을 의존성 배열로 사용, 컴포넌트가 처음 렌더링될 때만 실행

    ```
-   **업데이트 (Updating)**:
    -   의존성 배열에 지정된 값들이 변경될 때마다 `useEffect`가 다시 실행됩니다. 컴포넌트가 업데이트될 때마다, React는 의존성 배열을 비교하여 변경된 값이 있으면 `useEffect`를 실행합니다.
    ```jsx
    jsx코드 복사
    useEffect(() => {
      console.log('Effect ran due to count change');
    }, [count]); // count가 변경될 때마다 실행

    ```
-   **클린업 (Cleanup)**:
    -   `useEffect`에서 반환된 함수는 클린업 함수로, 다음 두 가지 경우에 실행됩니다:
        1. **컴포넌트가 언마운트될 때**: 컴포넌트가 언마운트될 때 클린업 함수가 실행됩니다.
        2. **의존성 배열의 값이 변경되기 전에**: `useEffect`가 다시 실행되기 전에 이전 `useEffect`의 클린업 함수가 실행됩니다.
    ```jsx
    jsx코드 복사
    useEffect(() => {
      const timerId = setInterval(() => {
        console.log('Timer running');
      }, 1000);

      // 클린업 함수
      return () => {
        clearInterval(timerId);
        console.log('Cleanup');
      };
    }, []); // 빈 배열을 의존성 배열로 사용, 컴포넌트가 처음 렌더링될 때만 실행

    ```
-   꼬리꼬리➰ useEffect는 왜 사용하나요?
    -   답변 : useEffect는 렌더링될때와 특정 값이 변경될 때 실행되는 사이드 이펙트를 처리하기 위해서 사용합니다. 사이드 이펙트란 데이터 패칭, DOM 조작, 구독 설정 등 렌더링 외의 작업을 의미합니다. 또한 컴포넌트의 생명주기 동안 필요한 클린업 작업도 처리 가능합니다.
    -   `useEffect`는 React에서 사이드 이펙트를 처리하는 훅입니다. 사이드 이펙트란 데이터 패칭, DOM 조작, 구독 설정 등 렌더링 외의 작업을 의미합니다. `useEffect`는 이러한 작업을 컴포넌트가 렌더링된 후에 수행할 수 있도록 해줍니다.
    -   **사이드 이펙트 처리**:
        -   렌더링과 관련된 작업 외에 데이터 패칭, 이벤트 리스너 설정, 타이머 설정 등을 처리할 때 사용합니다. 예를 들어, API로부터 데이터를 가져오는 작업을 `useEffect`를 통해 수행할 수 있습니다.
    -   **컴포넌트의 상태와 관련된 작업**:
        -   컴포넌트가 렌더링될 때 상태를 초기화하거나 업데이트하는 작업을 처리할 수 있습니다. 예를 들어, 폼의 기본값을 설정하거나, 컴포넌트가 마운트될 때 특정 API 호출을 할 수 있습니다.
    -   **클린업 작업**:
        -   구독 해제, 타이머 클리어 등 컴포넌트가 언마운트될 때 필요한 정리 작업을 수행할 수 있습니다. 이를 통해 메모리 누수를 방지하고, 불필요한 작업을 방지할 수 있습니다.
